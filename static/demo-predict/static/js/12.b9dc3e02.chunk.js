(this["webpackJsonppwa-demo"]=this["webpackJsonppwa-demo"]||[]).push([[12,22],{165:function(e,t,n){"use strict";var r=n(5),o=n.n(r),a=n(190);t.a=function(){var e=o.a.useContext(a.a),t=e.title,n=e.setTitle,r=e.setDoGoBack;return{title:t,setTitle:n,doGoBack:e.doGoBack,setDoGoBack:r}}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){window.scrollTo({top:0,behavior:"smooth"})}},168:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(162),o=n(160);function a(e){return function(t,n){return Object(o.a)(Object(o.a)({},t),{},Object(r.a)({},e,Object(o.a)(Object(o.a)({},t[e]),n)))}}function c(){return function(e){return{welcome:{language:e.welcome.language}}}}},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(37),o=n(5),a=n.n(o),c=n(160),i=n(186),s=n(157),l=n(156),u=n(158);function d(){var e=Object(s.a)(["\n  height: 50px;\n  border-radius: 4px; \n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\n  font-weight: bold;\n  font-size: 14px;\n  font-weight: bold;\n  width: 100%;\n\n  ","\n"]);return d=function(){return e},e}var b=l.default.button(d(),(function(e){var t=e.dark,n=e.disabled?u.a.midGray:u.a.darkBlack;return t?"\n    background-color: ".concat(n,";\n    color: ").concat(u.a.white,";\n    border: none;\n  "):"\n    background-color: ".concat(u.a.white,";\n    color: ").concat(n,";\n    border: 1px solid ").concat(n,";\n  ")})),f=a.a.memo((function(e){var t=e.children,n=Object(i.a)(e,["children"]);return Object(r.jsx)(b,Object(c.a)(Object(c.a)({type:"button"},n),{},{children:t}))}));function p(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  max-width: ",";\n  margin: 0 auto;\n\n  button {\n    flex: 1;\n\n    &:first-of-type {\n      margin-left: 0px !important;\n    }\n\n    &:last-of-type {\n      margin-left: 20px;\n    }\n  }\n\n  @media screen and (","){\n    max-width: 470px;\n  }\n"]);return p=function(){return e},e}var j=l.default.div(p(),(function(e){return"calc(100% - ".concat(2*e.theme.layout.generalPaddingAmount,"px)")}),(function(e){return e.theme.breakpoints.tablet})),h=a.a.memo((function(e){var t=e.invert,n=void 0!==t&&t,o=e.leftLabel,a=e.leftDisabled,c=e.leftHandler,i=e.rightLabel,s=e.rightDisabled,l=e.rightHandler;return Object(r.jsxs)(j,{children:[Object(r.jsx)(f,{dark:n,disabled:a,onClick:c,children:o}),i&&l&&Object(r.jsx)(f,{dark:!n,disabled:s,onClick:l,children:i})]})})),m=a.a.memo(h)},234:function(e,t,n){"use strict";n.r(t);var r=n(37),o=n(184),a=n.n(o),c=n(185),i=n(164),s=n(5),l=n.n(s),u=n(170),d=n(176),b=n.n(d),f=n(838),p=n(313),j=n(387),h=n.n(j),m=n(159),x=n(172),g=n(241),O=n(168),v=n(165),k=n(166),y=n(272),w=function(){var e=b()({bindTo:document&&document.getElementById("wizard-buttons")}).Portal,t=Object(v.a)(),n=t.setDoGoBack,o=t.setTitle,s=Object(u.g)(),d=Object(f.a)().t,j=Object(m.c)({resetStore:Object(O.a)()}),w=j.state,T=j.actions,P=l.a.useState(null),B=Object(i.a)(P,2),R=B[0],S=B[1],C=l.a.useState(!0),D=Object(i.a)(C,2),E=D[0],I=D[1],F=l.a.useState(),G=Object(i.a)(F,2),L=G[0],H=G[1];l.a.useEffect((function(){var e=document&&document.getElementById("footer-report-problems");e&&(e.style.display=E?"none":"flex")}),[E]);var z=l.a.useCallback((function(){s.replace("")}),[s]),J=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S(null),!(w&&w.welcome&&w["submit-steps"])){e.next=13;break}return t=w["submit-steps"].recordYourCough,n=new FormData,((null===t||void 0===t?void 0:t.recordingFile)||(null===t||void 0===t?void 0:t.uploadedFile))&&n.append("cough",t.recordingFile||t.uploadedFile),T.resetStore({}),e.next=9,h.a.post("https://virufy-ec2.xoor.dev/demopredict",n,{headers:{"Content-Type":"multipart/form-data"}});case 9:(r=e.sent).data&&"prediction"in r.data?(I(!1),o=r.data.prediction,console.log("Prediction: ",r.data.prediction," - ",typeof r.data.prediction),console.log("Result: ",o),H("".concat(o))):(I(!1),H("-")),e.next=14;break;case 13:z();case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("Error",e.t0),S(d("beforeSubmit:submitError"));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return l.a.useEffect((function(){Object(k.a)(),o(""),n((function(){})),J()}),[]),Object(r.jsxs)(r.Fragment,{children:[E?Object(r.jsxs)(y.ProcessingContainer,{children:[Object(r.jsx)(y.Title,{children:d("predictionResult:processingTitle")}),Object(r.jsx)(y.ImageProcessing,{})]}):Object(r.jsxs)(y.PredictionResultContainer,{children:[Object(r.jsx)(y.TitleResult,{children:d("predictionResult:predictionResultTitle")}),Object(r.jsx)(y.IntroText,{children:Object(r.jsxs)(p.a,{i18nKey:"main:introductionText",children:[Object(r.jsx)("strong",{children:"Important note:"})," this app is only for demonstration purposes and does not provide a prediction. Please visit ",Object(r.jsx)(g.a,{to:"https://virufy.org/app",target:"_blank",children:"virufy.org/app"})," to contribute your cough and help us to complete this app."]})}),L&&Object(r.jsxs)(y.LikelihoodText,{children:[d("predictionResult:likelihoodPrefix"),Object(r.jsxs)(y.LikelihoodPercentageText,{children:[" ",L]})]}),Object(r.jsx)(y.ImagePredictionResult,{})]}),R&&Object(r.jsx)(y.SubmitError,{children:R}),!E&&Object(r.jsx)(e,{children:Object(r.jsx)(x.a,{invert:!0,leftLabel:d("predictionResult:nextButton"),leftHandler:z,leftDisabled:!1})})]})};t.default=l.a.memo(w)},264:function(e,t,n){"use strict";n.r(t);var r=n(234);n.d(t,"default",(function(){return r.default}))}}]);
//# sourceMappingURL=12.b9dc3e02.chunk.js.map
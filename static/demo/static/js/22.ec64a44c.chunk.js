(this["webpackJsonppwa-demo"]=this["webpackJsonppwa-demo"]||[]).push([[22],{165:function(e,t,n){"use strict";var r=n(5),o=n.n(r),a=n(190);t.a=function(){var e=o.a.useContext(a.a),t=e.title,n=e.setTitle,r=e.setDoGoBack;return{title:t,setTitle:n,doGoBack:e.doGoBack,setDoGoBack:r}}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){window.scrollTo({top:0,behavior:"smooth"})}},168:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(162),o=n(160);function a(e){return function(t,n){return Object(o.a)(Object(o.a)({},t),{},Object(r.a)({},e,Object(o.a)(Object(o.a)({},t[e]),n)))}}function i(){return function(e){return{welcome:{language:e.welcome.language}}}}},172:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(37),o=n(5),a=n.n(o),i=n(160),c=n(186),s=n(157),u=n(156),l=n(158);function d(){var e=Object(s.a)(["\n  height: 50px;\n  border-radius: 4px; \n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\n  font-weight: bold;\n  font-size: 14px;\n  font-weight: bold;\n  width: 100%;\n\n  ","\n"]);return d=function(){return e},e}var b=u.default.button(d(),(function(e){var t=e.dark,n=e.disabled?l.a.midGray:l.a.darkBlack;return t?"\n    background-color: ".concat(n,";\n    color: ").concat(l.a.white,";\n    border: none;\n  "):"\n    background-color: ".concat(l.a.white,";\n    color: ").concat(n,";\n    border: 1px solid ").concat(n,";\n  ")})),f=a.a.memo((function(e){var t=e.children,n=Object(c.a)(e,["children"]);return Object(r.jsx)(b,Object(i.a)(Object(i.a)({type:"button"},n),{},{children:t}))}));function p(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  max-width: ",";\n  margin: 0 auto;\n\n  button {\n    flex: 1;\n\n    &:first-of-type {\n      margin-left: 0px !important;\n    }\n\n    &:last-of-type {\n      margin-left: 20px;\n    }\n  }\n\n  @media screen and (","){\n    max-width: 470px;\n  }\n"]);return p=function(){return e},e}var j=u.default.div(p(),(function(e){return"calc(100% - ".concat(2*e.theme.layout.generalPaddingAmount,"px)")}),(function(e){return e.theme.breakpoints.tablet})),m=a.a.memo((function(e){var t=e.invert,n=void 0!==t&&t,o=e.leftLabel,a=e.leftDisabled,i=e.leftHandler,c=e.rightLabel,s=e.rightDisabled,u=e.rightHandler;return Object(r.jsxs)(j,{children:[Object(r.jsx)(f,{dark:n,disabled:a,onClick:i,children:o}),c&&u&&Object(r.jsx)(f,{dark:!n,disabled:s,onClick:u,children:c})]})})),h=a.a.memo(m)},242:function(e,t,n){"use strict";n.r(t);var r=n(37),o=n(184),a=n.n(o),i=n(185),c=n(164),s=n(5),u=n.n(s),l=n(170),d=n(176),b=n.n(d),f=n(838),p=n(313),j=n(159),m=n(172),h=n(240),v=n(387),x=n.n(v).a.create({baseURL:"https://ti7vvvk450.execute-api.us-east-2.amazonaws.com/prod"});var g=n(168),O=n(165),k=n(166),y=n(272),w=function(){var e=b()({bindTo:document&&document.getElementById("wizard-buttons")}).Portal,t=Object(O.a)(),n=t.setDoGoBack,o=t.setTitle,s=Object(l.g)(),d=Object(f.a)().t,v=Object(j.c)({resetStore:Object(g.a)()}),w=v.state,T=v.actions,S=x,C=u.a.useState(null),P=Object(c.a)(C,2),B=P[0],D=P[1],I=u.a.useState(!0),R=Object(c.a)(I,2),E=R[0],F=R[1],G=u.a.useState(),L=Object(c.a)(G,2),z=L[0],H=L[1];u.a.useEffect((function(){var e=document&&document.getElementById("footer-report-problems");e&&(e.style.display=E?"none":"flex")}),[E]),u.a.useEffect((function(){Object(k.a)(),o(""),n((function(){}))}),[]);var J=u.a.useCallback((function(){s.replace("")}),[s]),X=function(){var e=Object(i.a)(a.a.mark((function e(){var t,n,r,o,i,c,s,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D(null),!(w&&w.welcome&&w["submit-steps"])){e.next=17;break}return t=w.welcome,n=t.language,r=t.hospitalCode,o=void 0===r?"virufy":r,i=t.patientId,c=void 0===i?"virufy":i,s=w["submit-steps"].recordYourCough,u=new FormData,n&&u.append("language",n),o&&u.append("hospitalCode",o),c&&u.append("patientId",c),((null===s||void 0===s?void 0:s.recordingFile)||(null===s||void 0===s?void 0:s.uploadedFile))&&u.append("cough",s.recordingFile||s.uploadedFile),e.next=12,S.post("saveDemoSurvey",u,{headers:{"Content-Type":"multipart/form-data; boundary=SaveDemoSurvey"}});case 12:l=e.sent,T.resetStore({}),l.data&&(console.log(l.data),F(!1),H("XX")),e.next=18;break;case 17:F(!1);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("Error",e.t0),D(d("beforeSubmit:submitError"));case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return u.a.useEffect((function(){setTimeout((function(){X()}),3e3)}),[]),Object(r.jsxs)(r.Fragment,{children:[E?Object(r.jsxs)(y.ProcessingContainer,{children:[Object(r.jsx)(y.Title,{children:d("predictionResult:processingTitle")}),Object(r.jsx)(y.ImageProcessing,{})]}):Object(r.jsxs)(y.PredictionResultContainer,{children:[Object(r.jsx)(y.TitleResult,{children:d("predictionResult:predictionResultTitle")}),Object(r.jsx)(y.IntroText,{children:Object(r.jsxs)(p.a,{i18nKey:"main:introductionText",children:[Object(r.jsx)("strong",{children:"Important note:"})," this app is only for demonstration purposes and does not provide a prediction. Please visit ",Object(r.jsx)(h.a,{to:"https://virufy.org/app",target:"_blank",children:"virufy.org/app"})," to contribute your cough and help us to complete this app."]})}),z&&Object(r.jsxs)(y.LikelihoodText,{children:[d("predictionResult:likelihoodPrefix"),Object(r.jsxs)(y.LikelihoodPercentageText,{children:[" ",z,"%"]})]}),Object(r.jsx)(y.ImagePredictionResult,{})]}),B&&Object(r.jsx)(y.SubmitError,{children:B}),!E&&Object(r.jsx)(e,{children:Object(r.jsx)(m.a,{invert:!0,leftLabel:d("predictionResult:nextButton"),leftHandler:J,leftDisabled:!1})})]})};t.default=u.a.memo(w)}}]);
//# sourceMappingURL=22.ec64a44c.chunk.js.map
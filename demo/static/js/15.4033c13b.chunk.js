(this["webpackJsonppwa-demo"]=this["webpackJsonppwa-demo"]||[]).push([[15,27],{162:function(e,t,n){"use strict";var o=n(5),r=n.n(o),a=n(178);t.a=function(){var e=r.a.useContext(a.a),t=e.title,n=e.setTitle,o=e.subtitle,i=e.setSubtitle,c=e.type,s=e.setType,l=e.logoSize,u=e.setLogoSize,d=e.setDoGoBack;return{title:t,setTitle:n,subtitle:o,setSubtitle:i,type:c,setType:s,logoSize:l,setLogoSize:u,doGoBack:e.doGoBack,setDoGoBack:d}}},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(){window.scrollTo({top:0,behavior:"smooth"})}},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n(160),r=n(37),a=n(169),i=n(5),c=n.n(i),s=n(157),l=n(156),u=n(158);function d(){var e=Object(s.a)(["\n  height: 52px;\n  border-radius: 15px; \n  font-family: 'Source Sans Pro'; /* It could be removed if default on body changes */\n  font-weight: bold;\n  font-size: 14px;\n  font-weight: bold;\n  width: 100%;\n\n  ","\n"]);return d=function(){return e},e}var b=l.default.button(d(),(function(e){var t=e.dark,n=e.disabled?u.a.purple_50:u.a.purple;return t?"\n    background-color: ".concat(n,";\n    color: ").concat(u.a.white,";\n    border: none;\n  "):"\n    background-color: ".concat(u.a.white,";\n    color: ").concat(n,";\n    border: 1px solid ").concat(n,";\n  ")})),p=c.a.memo((function(e){var t=e.children,n=Object(a.a)(e,["children"]);return Object(r.jsx)(b,Object(o.a)(Object(o.a)({type:"button"},n),{},{children:t}))}))},168:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(37),r=n(5),a=n.n(r),i=n(166),c=n(157);function s(){var e=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  max-width: ",";\n  margin: 0 auto;\n\n  button {\n    flex: 1;\n\n    &:first-of-type {\n      margin-left: 0px !important;\n    }\n\n    &:last-of-type {\n      margin-left: 20px;\n    }\n  }\n\n  @media screen and (","){\n    max-width: 470px;\n  }\n"]);return s=function(){return e},e}var l=n(156).default.div(s(),(function(e){return"calc(100% - ".concat(2*e.theme.layout.generalPaddingAmount,"px)")}),(function(e){return e.theme.breakpoints.tablet})),u=a.a.memo((function(e){var t=e.invert,n=void 0!==t&&t,r=e.leftLabel,a=e.leftDisabled,c=e.leftHandler,s=e.rightLabel,u=e.rightDisabled,d=e.rightHandler;return Object(o.jsxs)(l,{children:[Object(o.jsx)(i.a,{dark:n,disabled:a,onClick:c,children:r}),s&&d&&Object(o.jsx)(i.a,{dark:!n,disabled:u,onClick:d,children:s})]})})),d=a.a.memo(u)},171:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var o=n(165),r=n(160);function a(e){return function(t,n){return Object(r.a)(Object(r.a)({},t),{},Object(o.a)({},e,Object(r.a)(Object(r.a)({},t[e]),n)))}}function i(){return function(e){return{welcome:{language:e.welcome.language}}}}},245:function(e,t,n){"use strict";n.r(t);var o=n(37),r=n(183),a=n.n(r),i=n(402),c=n(184),s=n(161),l=n(5),u=n.n(l),d=n(173),b=n(172),p=n.n(b),f=n(866),j=n(266),h=n(403),m=n.n(h),x=n(164);var O=n(168),g=n(160),v=n(169),y=n(412),k=n.n(y),w=n(166),C=n(157),T=n(156);function R(){var e=Object(C.a)(["\n  font-size: 14px;\n  margin-bottom: 17px;\n"]);return R=function(){return e},e}function S(){var e=Object(C.a)(["\n  font-size: 18px;\n  font-weight: 600;\n  margin-bottom: 17px;\n"]);return S=function(){return e},e}function D(){var e=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n\n  @media screen and (",") {\n    height: 100%;\n    max-width: 400px;\n    margin: auto;\n"]);return D=function(){return e},e}var F=T.default.div(D(),(function(e){return e.theme.breakpoints.tablet})),B=T.default.div(S()),I=T.default.div(R());k.a.setAppElement("#root");var E=u.a.memo((function(e){var t=e.isOpen,n=e.modalTitle,r=e.children,a=e.toggle,i=e.onConfirm,c=Object(v.a)(e,["isOpen","modalTitle","children","toggle","onConfirm"]),s=u.a.useCallback((function(){null===i||void 0===i||i(),a()}),[i,a]);return Object(o.jsx)(k.a,Object(g.a)(Object(g.a)({},c),{},{isOpen:t,onRequestClose:a,style:{content:{minHeight:"328px",maxWidth:"768px",margin:"auto",top:"60%",bottom:"0px",right:"0px",left:"0px",backgroundColor:"#EBF1FC",borderRadius:"70px 70px 0px 0px",border:"none"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},children:Object(o.jsxs)(F,{className:"ModalBody",children:[Object(o.jsx)(B,{children:n}),Object(o.jsx)(I,{children:r}),Object(o.jsx)(w.a,{onClick:s,dark:!0,children:"OK"})]})}))})),P=n(171),z=n(162),N=n(163),M=n(280),V=function(){var e=p()({bindTo:document&&document.getElementById("wizard-buttons")}).Portal,t=Object(z.a)(),n=t.setDoGoBack,r=t.setTitle,l=t.setSubtitle,b=t.setType,h=Object(d.g)(),g=Object(f.a)().t,v=Object(x.c)({resetStore:Object(P.a)()}),y=v.state,k=v.actions,w=u.a.useState(null),C=Object(s.a)(w,2),T=C[0],R=C[1],S=u.a.useState(!0),D=Object(s.a)(S,2),F=D[0],B=D[1],I=u.a.useState(-1),V=Object(s.a)(I,2),L=V[0],A=V[1],G=function(){var e=u.a.useState(!1),t=Object(s.a)(e,2),n=t[0],o=t[1];return{isOpen:n,openModal:u.a.useCallback((function(){o(!0)}),[]),closeModal:u.a.useCallback((function(){o(!1)}),[]),toggleModal:u.a.useCallback((function(){o((function(e){return!e}))}),[])}}(),K=G.isOpen,H=G.openModal,Y=G.closeModal;u.a.useEffect((function(){var e=document&&document.getElementById("footer-report-problems");e&&(e.style.display=F?"none":"flex")}),[F]);var J=u.a.useCallback((function(){h.replace("")}),[h]),q=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,o,r,c,s,l,u,d,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,R(null),!(y&&y.welcome&&y["submit-steps"])){e.next=15;break}return o=y["submit-steps"].recordYourCough,r=new FormData,(c=(null===o||void 0===o?void 0:o.recordingFile)||(null===o||void 0===o?void 0:o.uploadedFile))&&r.append("cough",c,c.name||"filename.wav"),r.append("accessCode",null!==(t=null===(n=y.welcome)||void 0===n?void 0:n.accessCode)&&void 0!==t?t:""),k.resetStore({}),e.next=11,m.a.post("https://virufy-ec2.xoor.dev/demopredict",r,{headers:{"Content-Type":"multipart/form-data"}});case 11:if((s=e.sent).data&&"prediction"in s.data){B(!1),l=s.data.prediction,u=-1;try{u=parseFloat(null===(d=l.match(Object(i.a)(/[\0-\/:-\uFFFF]*([\.0-9]+)/,{percentage:1})))||void 0===d||null===(b=d.groups)||void 0===b?void 0:b.percentage),Number.isNaN(u)&&(u=-1)}catch(a){u=-1}A(u)}else B(!1),A(-1);e.next=16;break;case 15:J();case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.log("Error",e.t0),R(g("predictionResult:submitError"));case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return u.a.useEffect((function(){Object(N.a)(),r(""),n((function(){})),q()}),[]),u.a.useEffect((function(){F?(l(""),b("noShape")):(l("Results"),b("shapeUp"),H())}),[F]),Object(o.jsxs)(o.Fragment,{children:[F?Object(o.jsxs)(M.ProcessingContainer,{children:[Object(o.jsx)(M.Title,{children:g("predictionResult:processingTitle")}),Object(o.jsx)(M.ImageProcessing,{})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(E,{isOpen:K,modalTitle:"Important Note: ",toggle:Y,onConfirm:Y,children:Object(o.jsx)(j.a,{i18nKey:"predictionResult:resultModal",children:"This app will not predict your COVID-19 status or diagnose any disease, disorder, or other health condition. Virufy is conducting research and will use the information you provide for that research only. Virufy will not take place of a doctor and would like to remind you it is your responsiblity to seek medical advice from your doctor."})}),Object(o.jsxs)(M.PredictionResultContainer,{children:[-1!==L&&L<40&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(M.TitleResult,{color:"#3DA63B",children:g("predictionResult:resultNotDetected")}),Object(o.jsx)(M.IntroText,{children:Object(o.jsxs)(j.a,{i18nKey:"predictionResult:resultNotDetectedText",children:["Your voice does not seem to have indicators of COVID-19. Please",Object(o.jsx)("strong",{children:"continue to take appropriate measures"})," based on the advice of your healthcare professional or applicable regulatory body and reassess yourself in our app daily."]})}),Object(o.jsx)(M.VLogo,{})]}),(L>=40&&L<70||-1===L)&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(M.TitleResult,{color:"#C0B81E",children:g("predictionResult:resultNotAnalyze")}),Object(o.jsx)(M.IntroText,{children:Object(o.jsxs)(j.a,{i18nKey:"predictionResult:resultNotAnalyzeText",children:["Our algorithm is not able to determine your COVID-19 status. Please",Object(o.jsx)("strong",{children:"continue to take appropriate measures"})," based on the advice of your healthcare professional or applicable regulatory body and reassess yourself in our app daily."]})}),Object(o.jsx)(M.ImagePredictionResult,{})]}),L>=70&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(M.TitleResult,{color:"#F15B5B",children:g("predictionResult:resultDetected")}),Object(o.jsx)(M.IntroText,{children:Object(o.jsx)(j.a,{i18nKey:"predictionResult:resultDetectedText",children:"Your voice has indicators of COVID-19. Please contact your healthcare professional and take additional precautions."})}),Object(o.jsx)(M.ImagePredictionResult,{})]})]})]}),T&&Object(o.jsx)(M.SubmitError,{children:T}),!F&&Object(o.jsx)(e,{children:Object(o.jsx)(O.a,{invert:!0,leftLabel:g("predictionResult:nextButton"),leftHandler:J,leftDisabled:!1})})]})};t.default=u.a.memo(V)},271:function(e,t,n){"use strict";n.r(t);var o=n(245);n.d(t,"default",(function(){return o.default}))}}]);
//# sourceMappingURL=15.4033c13b.chunk.js.map